{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\defistation-web-master\\\\defistation-web-master\\\\src\\\\components\\\\miniCards\\\\MiniCards.js\";\nimport React, { Fragment, Suspense, useState, useEffect } from \"react\";\nimport { observer, inject } from 'mobx-react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport useStores from '../../useStores';\nimport { numberWithCommas, capitalize, replaceAll, getCurrencyUnit, getCurrencyDigit } from '../../util/Util';\nimport '../../App.css';\nimport MiniCard from './miniCard/MiniCard';\nimport MiniCardSlider from './miniCardSlider/MiniCardSlider';\nconst MiniCards = observer(props => {\n  const {\n    global\n  } = useStores();\n  const [responseError, setResponseError] = useState();\n  const [response, setResponse] = useState({});\n  const [changeVal0, setChangeVal0] = useState(\"\"); // 0%\n\n  const [changeVal1, setChangeVal1] = useState(\"\"); // 0%\n\n  const [changeVal2, setChangeVal2] = useState(\"\"); // 0%\n\n  const [changeVal3, setChangeVal3] = useState(\"\"); // 0%\n\n  const [miniCardTitle0, setMiniCardTitle0] = useState();\n  const [miniCardTitle1, setMiniCardTitle1] = useState();\n  const [miniCardTitle2, setMiniCardTitle2] = useState();\n  const [miniCardTitle3, setMiniCardTitle3] = useState();\n  const [miniCardData0, setMiniCardData0] = useState(\"\");\n  const [miniCardData1, setMiniCardData1] = useState(\"0\");\n  const [miniCardData2, setMiniCardData2] = useState(\"\");\n  const [miniCardData3, setMiniCardData3] = useState(\"\");\n  const [miniCardData3b, setMiniCardData3b] = useState(\"\");\n  const [totalBnbLockedNum, setTotalBnbLockedNum] = useState(0);\n  const [projectNum, setProjectNum] = useState(0);\n  const [lockedBnbAmount, setLockedBnbAmount] = useState();\n  const [miniCard4thTag, setMiniCard4thTag] = useState();\n  const [urlFlag2, setUrlFlag2] = useState(false);\n\n  async function getDefiList(defiName) {\n    if (urlFlag2) return;\n    setUrlFlag2(true);\n    console.count(\"getDefiListCall\"); // if (defiName == \"\")\n    // console.log(\"[0426] defiName: \", defiName);\n\n    const res = await fetch(global.defistationApiUrl + \"/defiTvlList\", {\n      method: 'GET',\n      headers: {\n        Authorization: global.auth\n      }\n    });\n    res.json().then(res => {\n      // console.log(\"[0426 Test] res: \", res);\n      let tokenPrice = 0;\n      let tokenPriceChange24h = 0;\n\n      for (var i = 0; i < res.length; i++) {\n        if (res[i][\"name\"] == defiName) {\n          tokenPrice = res[i][\"price\"];\n          tokenPriceChange24h = res[i][\"priceChange24h\"];\n          break;\n        }\n      } // console.log(\"[0426] tokenPrice: \", tokenPrice);\n      // minicard2 에 표현\n      // -------------------------------- Token Price --------------------------------\n\n\n      if (tokenPrice != null) setMiniCardData1(\"$ \" + numberWithCommas(tokenPrice, false, true));\n\n      if (tokenPriceChange24h * 1 > 0) {\n        setChangeVal1( /*#__PURE__*/React.createElement(\"span\", {\n          className: \"miniCardChange textGreen\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 35\n          }\n        }, \"+\", (tokenPriceChange24h * 100).toFixed(2), \"%\"));\n      } else if (tokenPriceChange24h * 1 < 0) {\n        setChangeVal1( /*#__PURE__*/React.createElement(\"span\", {\n          className: \"miniCardChange textRed\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 35\n          }\n        }, (tokenPriceChange24h * 100).toFixed(2), \"%\"));\n      } else {\n        setChangeVal1( /*#__PURE__*/React.createElement(\"span\", {\n          className: \"miniCardChange textGray\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 35\n          }\n        }, (tokenPriceChange24h * 100).toFixed(2), \"%\"));\n      }\n    });\n  }\n\n  const [urlFlag1, setUrlFlag1] = useState(false);\n  const [urlFlagDetail, setUrlFlagDetail] = useState(\"\");\n\n  async function getTotalBnbLocked(defiName) {\n    if (defiName == \"DeFi\") {\n      if (urlFlag1) return;\n    }\n\n    setUrlFlag1(true); // console.log(\"getTotalBnbLocked 함수 시작\");\n\n    let urlStr = \"\";\n\n    if (defiName == \"DeFi\") {\n      // urlStr = \"all\";\n      urlStr = \"all?days=30\";\n    } else {\n      // urlStr = defiName;\n      urlStr = defiName + \"?days=30\";\n    } // detail\n\n\n    if (urlFlagDetail == urlStr) return;\n    setUrlFlagDetail(urlStr); // console.log(\"urlStr: \", urlStr);\n\n    if (urlStr == \"\" || urlStr == \"?days=30\") return;\n    const res = await fetch(global.defistationApiUrl + \"/bnblockedList/\" + urlStr, {\n      method: 'GET',\n      headers: {\n        Authorization: global.auth\n      }\n    });\n    res.json().then(res => {\n      // res.result 를 배열로 바꾸고 가장 마지막 요소(최신) 확인\n      let resultObj = res.result;\n      var resultArr = Object.keys(resultObj).map(key => [Number(key), resultObj[key]]); // console.log(\"res: \", res);\n      // setTotalBnbLockedNum(numberWithCommas(Math.floor(resultArr[resultArr.length - 1][1]), false));\n\n      setTotalBnbLockedNum(Math.floor(resultArr[resultArr.length - 1][1]), false); // setLockedBnbAmount(resultArr[resultArr.length - 1][1]);\n      // 해당 Defi BNB와 전체 BNB 유통량 비율\n\n      if (props.defiName != \"DeFi\") {\n        // 서브 페이지\n        // 유통량: 147883948 -> 153432897\n        // setMiniCardData3(((resultArr[resultArr.length - 1][1] * 1 / 153432897 * 100).toFixed(4) * 1) + \"%\");\n        // ---------------------------- Total BNB locked change(%) ----------------------------\n        console.log(\"resultArr[resultArr.length - 2][1]: \", resultArr[resultArr.length - 2][1]);\n        let bnbChange24hPercent;\n\n        if (resultArr[resultArr.length - 2][1] > 0) {\n          bnbChange24hPercent = (resultArr[resultArr.length - 1][1] - resultArr[resultArr.length - 2][1]) / resultArr[resultArr.length - 2][1] * 100;\n        } else {\n          bnbChange24hPercent = 0;\n        }\n\n        if (bnbChange24hPercent > 0) {\n          setChangeVal2( /*#__PURE__*/React.createElement(\"span\", {\n            className: \"miniCardChange textGreen\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 39\n            }\n          }, \"+\", bnbChange24hPercent.toFixed(2), \"%\"));\n        } else if (bnbChange24hPercent < 0) {\n          setChangeVal2( /*#__PURE__*/React.createElement(\"span\", {\n            className: \"miniCardChange textRed\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 39\n            }\n          }, bnbChange24hPercent.toFixed(2), \"%\"));\n        } else {\n          setChangeVal2( /*#__PURE__*/React.createElement(\"span\", {\n            className: \"miniCardChange textGray\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 39\n            }\n          }, bnbChange24hPercent.toFixed(2)));\n        }\n      } else {\n        // 메인 페이지\n        // ---------------------------- Total BNB locked change(%) ----------------------------\n        let bnbChange24hPercent = (resultArr[resultArr.length - 1][1] - resultArr[resultArr.length - 2][1]) / resultArr[resultArr.length - 2][1] * 100;\n\n        if (bnbChange24hPercent > 0) {\n          setChangeVal2( /*#__PURE__*/React.createElement(\"span\", {\n            className: \"miniCardChange textGreen\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 39\n            }\n          }, \"+\", bnbChange24hPercent.toFixed(2), \"%\"));\n        } else if (bnbChange24hPercent < 0) {\n          setChangeVal2( /*#__PURE__*/React.createElement(\"span\", {\n            className: \"miniCardChange textRed\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 39\n            }\n          }, bnbChange24hPercent.toFixed(2), \"%\"));\n        } else {\n          setChangeVal2( /*#__PURE__*/React.createElement(\"span\", {\n            className: \"miniCardChange textGray\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 39\n            }\n          }, bnbChange24hPercent.toFixed(2)));\n        }\n      } // Last updated(UTC) 표현에서 앞에 20, 뒤에 초 제거\n\n\n      let tempDate;\n      console.log(\"resultArr[resultArr.length - 1][0]: \", resultArr[resultArr.length - 1][0]);\n\n      if (resultArr[resultArr.length - 1][0] == 0) {\n        tempDate = \"-\";\n      } else {\n        tempDate = new Date(resultArr[resultArr.length - 1][0] * 1000).toISOString().replace(/T/, ' ').replace(/\\..+/, '');\n        tempDate = tempDate.substring(0, tempDate.length - 3);\n      } // Last updated(UTC)\n\n\n      if (props.defiName != \"DeFi\") {\n        // 서브 페이지\n        setMiniCardData3(tempDate);\n      }\n    }).catch(err => setResponseError(err));\n  } // function showTvl1Day() {\n  //     if (global.tvl1DayPercent > 0) { \n  //         setMiniCardData1(\"+\" + global.tvl1DayPercent + \"%\");\n  //     } else {\n  //         setMiniCardData1(global.tvl1DayPercent + \"%\");\n  //     }\n  // }\n  // const [trendingDefiName, setTrendingDefiName] = useState(\"\");\n\n\n  useEffect(() => {\n    getTotalBnbLocked(props.defiName); // showTvl1Day();\n    // 메인 페이지 or 서브 페이지?\n\n    if (props.defiName == \"DeFi\") {\n      // 메인 페이지\n      setMiniCardTitle0(\"Total Value Locked\");\n      setMiniCardTitle1(\"TXs 24h\");\n      setMiniCardTitle2(\"Total BNB Locked\");\n      setMiniCardTitle3(\"Trending\"); // change0\n\n      if (global.tvl1DayPercent > 0) {\n        setMiniCardData0(\"+\" + global.tvl1DayPercent + \"%\");\n      } else {\n        setMiniCardData0(global.tvl1DayPercent + \"%\");\n      } // minicard 0 으로 보이는 현상 임시\n\n\n      if (miniCardData0 == \"0%\") {\n        setTimeout(function () {\n          if (miniCardData0 != \"0%\") return;\n          console.log(\"global.totalValueLockedUsd: \", global.totalValueLockedUsd); // showTvl1Day();\n\n          if (global.tvl1DayPercent > 0) {\n            setMiniCardData1(\"+\" + global.tvl1DayPercent + \"%\");\n          } else {\n            setMiniCardData1(global.tvl1DayPercent + \"%\");\n          }\n        }, 3000);\n      } // Total Value Locked 변화량(%) 값\n\n\n      if (String(miniCardData0).indexOf(\"+\") != -1) {\n        setChangeVal0( /*#__PURE__*/React.createElement(\"span\", {\n          className: \"miniCardChange textGreen\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 31\n          }\n        }, miniCardData0));\n      } else if (String(miniCardData0).indexOf(\"-\") != -1) {\n        setChangeVal0( /*#__PURE__*/React.createElement(\"span\", {\n          className: \"miniCardChange textRed\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 31\n          }\n        }, miniCardData0));\n      } else {\n        setChangeVal0( /*#__PURE__*/React.createElement(\"span\", {\n          className: \"miniCardChange textGray\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 31\n          }\n        }, miniCardData0));\n      } // ---------------------------- TXs ----------------------------\n\n\n      setMiniCardData1(global.transactions24h);\n\n      if (miniCardData1 == \"0\") {\n        setTimeout(function () {\n          if (miniCardData1 != \"0\") return;\n          setMiniCardData1(global.transactions24h);\n          console.log(\"global.transactions24hPercent: \", global.transactions24hPercent);\n\n          if (global.transactions24hPercent * 1 > 0) {\n            setChangeVal1( /*#__PURE__*/React.createElement(\"span\", {\n              className: \"miniCardChange textGreen\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 39\n              }\n            }, \"+\", global.transactions24hPercent, \"%\"));\n          } else if (global.transactions24hPercent * 1 < 0) {\n            setChangeVal1( /*#__PURE__*/React.createElement(\"span\", {\n              className: \"miniCardChange textRed\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 39\n              }\n            }, global.transactions24hPercent, \"%\"));\n          } else {\n            setChangeVal1( /*#__PURE__*/React.createElement(\"span\", {\n              className: \"miniCardChange textGray\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 39\n              }\n            }, global.transactions24hPercent, \"%\"));\n          }\n        }, 3000);\n      }\n\n      console.log(\"global.transactions24hPercent: \", global.transactions24hPercent);\n\n      if (global.transactions24hPercent * 1 > 0) {\n        setChangeVal1( /*#__PURE__*/React.createElement(\"span\", {\n          className: \"miniCardChange textGreen\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 31\n          }\n        }, \"+\", global.transactions24hPercent, \"%\"));\n      } else if (global.transactions24hPercent * 1 < 0) {\n        setChangeVal1( /*#__PURE__*/React.createElement(\"span\", {\n          className: \"miniCardChange textRed\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 31\n          }\n        }, global.transactions24hPercent, \"%\"));\n      } else {\n        setChangeVal1( /*#__PURE__*/React.createElement(\"span\", {\n          className: \"miniCardChange textGray\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 31\n          }\n        }, global.transactions24hPercent, \"%\"));\n      } // ---------------------------- Trending ----------------------------\n\n\n      let trendingArr = global.trending; // trending minicard 보여주기\n      // [\"priceDefiName\", \"priceStr\", price change, \"marketCapDefiName\", \"marketcapStr\", marketcap change, \"holdersDefiName\", \"holdersStr\", holders change, \"tvlDefiName\", \"tvlStr\", tvl change]\n\n      setMiniCard4thTag( /*#__PURE__*/React.createElement(MiniCardSlider, {\n        title0: \"Trending (Price)\",\n        defiName0: trendingArr[0],\n        dataNum0: trendingArr[1] * 1,\n        data24hChange0: trendingArr[2],\n        title1: \"Trending (Mkt Cap)\",\n        defiName1: trendingArr[3],\n        dataNum1: trendingArr[4] * 1,\n        data24hChange1: trendingArr[5],\n        title2: \"Trending (Holders)\",\n        defiName2: trendingArr[6],\n        dataNum2: trendingArr[7] * 1,\n        data24hChange2: trendingArr[8],\n        title3: \"Trending (TVL)\",\n        defiName3: trendingArr[9],\n        dataNum3: trendingArr[10] * 1,\n        data24hChange3: trendingArr[11],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }\n      }));\n    } else {\n      // 서브 페이지\n      setMiniCardTitle0(\"Total Value Locked\");\n      setMiniCardTitle1(\"Token Price\");\n      setMiniCardTitle2(\"Total BNB Locked\");\n      setMiniCardTitle3(\"Last updated(UTC)\"); // TVL Change 24h\n      // minicard 0 으로 보이는 현상 임시\n      // if (miniCardData0 == \"0%\") {\n      //     setTimeout(function() {\n      //         if (miniCardData0 != \"0%\") return;\n      //         // showTvl1Day();\n      //         if (global.tvl1DayPercent > 0) { \n      //             setMiniCardData1(\"+\" + global.tvl1DayPercent + \"%\");\n      //         } else {\n      //             setMiniCardData1(global.tvl1DayPercent + \"%\");\n      //         }\n      //     }, 3000);\n      // }\n      // Total Value Locked 변화량(%) 값\n\n      console.log(\"changeVal0: \", changeVal0);\n\n      if (changeVal0 == \"\") {\n        setTimeout(function () {\n          if (changeVal0 != \"\") return;\n\n          if (global.tvl1DayPercent > 0) {\n            setChangeVal0( /*#__PURE__*/React.createElement(\"span\", {\n              className: \"miniCardChange textGreen\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 39\n              }\n            }, \"+\", global.tvl1DayPercent, \"%\"));\n          } else if (global.tvl1DayPercent < 0) {\n            setChangeVal0( /*#__PURE__*/React.createElement(\"span\", {\n              className: \"miniCardChange textRed\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 39\n              }\n            }, global.tvl1DayPercent, \"%\"));\n          } else {\n            setChangeVal0( /*#__PURE__*/React.createElement(\"span\", {\n              className: \"miniCardChange textGray\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 39\n              }\n            }, global.tvl1DayPercent, \"%\"));\n          }\n        }, 3000);\n      } // if (String(global.tvl1DayPercent).indexOf(\"+\") != -1) {\n      //     setChangeVal0(<span className=\"miniCardChange textGreen\">{global.tvl1DayPercent}</span>);\n      // } else if (String(global.tvl1DayPercent).indexOf(\"-\") != -1) {\n      //     setChangeVal0(<span className=\"miniCardChange textRed\">{global.tvl1DayPercent}</span>);\n      // } else {\n      //     setChangeVal0(<span className=\"miniCardChange\">{global.tvl1DayPercent}</span>);\n      // }\n      // ---------------------------- Token Price ----------------------------\n      // console.log(\"global.tokenPrice: \", global.tokenPrice);\n      // setMiniCardData1(\"$ \" + global.tokenPrice);\n      // 서브페이지일 때 Token Price 랑 변화량 가져오기 -> minicard2 적용\n\n\n      if (props.defiName != \"\") getDefiList(props.defiName); // console.log(\"global.transactions24hPercent: \", global.transactions24hPercent);\n      // if (global.transactions24hPercent * 1 > 0) {\n      //     setChangeVal1(<span className=\"miniCardChange textGreen\">+{global.transactions24hPercent}%</span>);\n      // } else if (global.transactions24hPercent * 1 < 0) {\n      //     setChangeVal1(<span className=\"miniCardChange textRed\">{global.transactions24hPercent}%</span>);\n      // } else {\n      //     setChangeVal1(<span className=\"miniCardChange\">{global.transactions24hPercent}%</span>);\n      // }\n      // console.log(\"global.tokenPrice24hPercent: \", global.tokenPrice24hPercent);\n      // 서브페이지에서는 trending 이 아니라 일반 minicard 보여주기\n\n      setMiniCard4thTag( /*#__PURE__*/React.createElement(MiniCard, {\n        title: miniCardTitle3,\n        dataNum: miniCardData3,\n        data24hChange: changeVal3,\n        trendingDefiName: miniCardData3b,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 17\n        }\n      }));\n    } // console.log(\"[0426 test] props.defiName: \", props.defiName);\n\n\n    return () => {}; // global.totalValueLockedUsd 삭제  miniCardData1\n  }, [props.defiName, miniCardData1, miniCardData3]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"miniCards\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"miniCardUl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MiniCard, {\n    title: miniCardTitle0,\n    dataNum: global.totalValueLockedUsd,\n    data24hChange: changeVal0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(MiniCard, {\n    title: miniCardTitle1,\n    dataNum: miniCardData1,\n    data24hChange: changeVal1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(MiniCard, {\n    title: miniCardTitle2,\n    dataNum: totalBnbLockedNum,\n    symbol: \"BNB\",\n    data24hChange: changeVal2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 17\n    }\n  }), miniCard4thTag));\n});\nexport default MiniCards;","map":{"version":3,"sources":["C:/Users/user/Desktop/defistation-web-master/defistation-web-master/src/components/miniCards/MiniCards.js"],"names":["React","Fragment","Suspense","useState","useEffect","observer","inject","useHistory","useLocation","useStores","numberWithCommas","capitalize","replaceAll","getCurrencyUnit","getCurrencyDigit","MiniCard","MiniCardSlider","MiniCards","props","global","responseError","setResponseError","response","setResponse","changeVal0","setChangeVal0","changeVal1","setChangeVal1","changeVal2","setChangeVal2","changeVal3","setChangeVal3","miniCardTitle0","setMiniCardTitle0","miniCardTitle1","setMiniCardTitle1","miniCardTitle2","setMiniCardTitle2","miniCardTitle3","setMiniCardTitle3","miniCardData0","setMiniCardData0","miniCardData1","setMiniCardData1","miniCardData2","setMiniCardData2","miniCardData3","setMiniCardData3","miniCardData3b","setMiniCardData3b","totalBnbLockedNum","setTotalBnbLockedNum","projectNum","setProjectNum","lockedBnbAmount","setLockedBnbAmount","miniCard4thTag","setMiniCard4thTag","urlFlag2","setUrlFlag2","getDefiList","defiName","console","count","res","fetch","defistationApiUrl","method","headers","Authorization","auth","json","then","tokenPrice","tokenPriceChange24h","i","length","toFixed","urlFlag1","setUrlFlag1","urlFlagDetail","setUrlFlagDetail","getTotalBnbLocked","urlStr","resultObj","result","resultArr","Object","keys","map","key","Number","Math","floor","log","bnbChange24hPercent","tempDate","Date","toISOString","replace","substring","catch","err","tvl1DayPercent","setTimeout","totalValueLockedUsd","String","indexOf","transactions24h","transactions24hPercent","trendingArr","trending"],"mappings":"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","sourcesContent":["import React, { Fragment, Suspense, useState, useEffect } from \"react\";\nimport { observer, inject } from 'mobx-react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport useStores from '../../useStores';\nimport { numberWithCommas, capitalize, replaceAll, getCurrencyUnit, getCurrencyDigit } from '../../util/Util';\n\nimport '../../App.css';\n\nimport MiniCard from './miniCard/MiniCard';\nimport MiniCardSlider from './miniCardSlider/MiniCardSlider';\n\nconst MiniCards = observer((props) => {\n    const { global } = useStores();\n\n    const [responseError, setResponseError] = useState();\n    const [response, setResponse] = useState({});\n\n    const [changeVal0, setChangeVal0] = useState(\"\");     // 0%\n    const [changeVal1, setChangeVal1] = useState(\"\");     // 0%\n    const [changeVal2, setChangeVal2] = useState(\"\");     // 0%\n    const [changeVal3, setChangeVal3] = useState(\"\");     // 0%\n\n    const [miniCardTitle0, setMiniCardTitle0] = useState();\n    const [miniCardTitle1, setMiniCardTitle1] = useState();\n    const [miniCardTitle2, setMiniCardTitle2] = useState();\n    const [miniCardTitle3, setMiniCardTitle3] = useState();\n\n    const [miniCardData0, setMiniCardData0] = useState(\"\");\n    const [miniCardData1, setMiniCardData1] = useState(\"0\");\n    const [miniCardData2, setMiniCardData2] = useState(\"\");\n    const [miniCardData3, setMiniCardData3] = useState(\"\");\n\n    const [miniCardData3b, setMiniCardData3b] = useState(\"\");\n\n    const [totalBnbLockedNum, setTotalBnbLockedNum] = useState(0);\n    const [projectNum, setProjectNum] = useState(0);\n\n    const [lockedBnbAmount, setLockedBnbAmount] = useState();\n\n    const [miniCard4thTag, setMiniCard4thTag] = useState();\n\n    const [urlFlag2, setUrlFlag2] = useState(false);\n    async function getDefiList(defiName) {\n        if (urlFlag2) return;\n        setUrlFlag2(true);\n\n        console.count(\"getDefiListCall\");\n\n        // if (defiName == \"\")\n\n        // console.log(\"[0426] defiName: \", defiName);\n\n        const res = await fetch(global.defistationApiUrl + \"/defiTvlList\", {\n            method: 'GET',\n            headers: {\n                Authorization: global.auth\n            }\n        });\n        res\n            .json()\n            .then(res => {\n                // console.log(\"[0426 Test] res: \", res);\n\n                let tokenPrice = 0;\n                let tokenPriceChange24h = 0;\n                for (var i = 0; i < res.length; i++) {\n                    if (res[i][\"name\"] == defiName) {\n                        tokenPrice = res[i][\"price\"];\n                        tokenPriceChange24h = res[i][\"priceChange24h\"];\n                        break;\n                    }\n                }\n\n                // console.log(\"[0426] tokenPrice: \", tokenPrice);\n\n                // minicard2 에 표현\n                // -------------------------------- Token Price --------------------------------\n                if (tokenPrice != null) setMiniCardData1(\"$ \" + numberWithCommas(tokenPrice, false, true));\n\n                if (tokenPriceChange24h * 1 > 0) {\n                    setChangeVal1(<span className=\"miniCardChange textGreen\">+{(tokenPriceChange24h * 100).toFixed(2)}%</span>);\n                } else if (tokenPriceChange24h * 1 < 0) {\n                    setChangeVal1(<span className=\"miniCardChange textRed\">{(tokenPriceChange24h * 100).toFixed(2)}%</span>);\n                } else {\n                    setChangeVal1(<span className=\"miniCardChange textGray\">{(tokenPriceChange24h * 100).toFixed(2)}%</span>);\n                }\n            })\n    }\n\n    const [urlFlag1, setUrlFlag1] = useState(false);\n    const [urlFlagDetail, setUrlFlagDetail] = useState(\"\");\n    async function getTotalBnbLocked(defiName) {\n        if (defiName == \"DeFi\") {\n            if (urlFlag1) return;\n        }\n        setUrlFlag1(true);\n\n        // console.log(\"getTotalBnbLocked 함수 시작\");\n\n        let urlStr = \"\";\n        if (defiName == \"DeFi\") {\n            // urlStr = \"all\";\n            urlStr = \"all?days=30\";\n        } else {\n            // urlStr = defiName;\n            urlStr = defiName + \"?days=30\";\n        }\n\n        // detail\n        if (urlFlagDetail == urlStr) return;\n        setUrlFlagDetail(urlStr);\n\n        // console.log(\"urlStr: \", urlStr);\n        if (urlStr == \"\" || urlStr == \"?days=30\") return;\n        const res = await fetch(global.defistationApiUrl + \"/bnblockedList/\" + urlStr, {\n            method: 'GET',\n            headers: {\n                Authorization: global.auth\n            }\n        });\n        res\n            .json()\n            .then(res => {\n\n                // res.result 를 배열로 바꾸고 가장 마지막 요소(최신) 확인\n                let resultObj = res.result;\n                var resultArr = Object.keys(resultObj).map((key) => [Number(key), resultObj[key]]);\n\n                // console.log(\"res: \", res);\n                // setTotalBnbLockedNum(numberWithCommas(Math.floor(resultArr[resultArr.length - 1][1]), false));\n                setTotalBnbLockedNum(Math.floor(resultArr[resultArr.length - 1][1]), false);\n\n                // setLockedBnbAmount(resultArr[resultArr.length - 1][1]);\n                // 해당 Defi BNB와 전체 BNB 유통량 비율\n                if (props.defiName != \"DeFi\") {\n                    // 서브 페이지\n                    // 유통량: 147883948 -> 153432897\n                    // setMiniCardData3(((resultArr[resultArr.length - 1][1] * 1 / 153432897 * 100).toFixed(4) * 1) + \"%\");\n\n                    // ---------------------------- Total BNB locked change(%) ----------------------------\n                    console.log(\"resultArr[resultArr.length - 2][1]: \", resultArr[resultArr.length - 2][1]);\n\n                    let bnbChange24hPercent;\n                    if (resultArr[resultArr.length - 2][1] > 0) {\n                        bnbChange24hPercent = (resultArr[resultArr.length - 1][1] - resultArr[resultArr.length - 2][1]) / resultArr[resultArr.length - 2][1] * 100;\n                    } else {\n                        bnbChange24hPercent = 0;\n                    }\n\n                    if (bnbChange24hPercent > 0) {\n                        setChangeVal2(<span className=\"miniCardChange textGreen\">+{bnbChange24hPercent.toFixed(2)}%</span>);\n                    } else if (bnbChange24hPercent < 0) {\n                        setChangeVal2(<span className=\"miniCardChange textRed\">{bnbChange24hPercent.toFixed(2)}%</span>);\n                    } else {\n                        setChangeVal2(<span className=\"miniCardChange textGray\">{bnbChange24hPercent.toFixed(2)}</span>);\n                    }\n\n                } else {\n                    // 메인 페이지\n                    \n                    // ---------------------------- Total BNB locked change(%) ----------------------------\n                    let bnbChange24hPercent = (resultArr[resultArr.length - 1][1] - resultArr[resultArr.length - 2][1]) / resultArr[resultArr.length - 2][1] * 100;\n\n                    if (bnbChange24hPercent > 0) {\n                        setChangeVal2(<span className=\"miniCardChange textGreen\">+{bnbChange24hPercent.toFixed(2)}%</span>);\n                    } else if (bnbChange24hPercent < 0) {\n                        setChangeVal2(<span className=\"miniCardChange textRed\">{bnbChange24hPercent.toFixed(2)}%</span>);\n                    } else {\n                        setChangeVal2(<span className=\"miniCardChange textGray\">{bnbChange24hPercent.toFixed(2)}</span>);\n                    }\n                }\n\n                // Last updated(UTC) 표현에서 앞에 20, 뒤에 초 제거\n                let tempDate;\n                console.log(\"resultArr[resultArr.length - 1][0]: \", resultArr[resultArr.length - 1][0]); \n                if (resultArr[resultArr.length - 1][0] == 0) {\n                    tempDate = \"-\";\n                } else {\n                    tempDate = new Date(resultArr[resultArr.length - 1][0] * 1000).toISOString().replace(/T/, ' ').replace(/\\..+/, '');\n                    tempDate = tempDate.substring(0, tempDate.length - 3);\n                }\n\n                // Last updated(UTC)\n                if (props.defiName != \"DeFi\") {\n                    // 서브 페이지\n                    setMiniCardData3(tempDate);\n                }\n            })\n            .catch(err => setResponseError(err));\n    }\n\n    // function showTvl1Day() {\n    //     if (global.tvl1DayPercent > 0) { \n    //         setMiniCardData1(\"+\" + global.tvl1DayPercent + \"%\");\n    //     } else {\n    //         setMiniCardData1(global.tvl1DayPercent + \"%\");\n    //     }\n    // }\n\n    // const [trendingDefiName, setTrendingDefiName] = useState(\"\");\n\n    useEffect(() => {\n        getTotalBnbLocked(props.defiName);\n        // showTvl1Day();\n\n        // 메인 페이지 or 서브 페이지?\n        if (props.defiName == \"DeFi\") {\n            // 메인 페이지\n            setMiniCardTitle0(\"Total Value Locked\");\n            setMiniCardTitle1(\"TXs 24h\");\n            setMiniCardTitle2(\"Total BNB Locked\");\n            setMiniCardTitle3(\"Trending\");\n\n            // change0\n            if (global.tvl1DayPercent > 0) { \n                setMiniCardData0(\"+\" + global.tvl1DayPercent + \"%\");\n            } else {\n                setMiniCardData0(global.tvl1DayPercent + \"%\");\n            }\n\n            // minicard 0 으로 보이는 현상 임시\n            if (miniCardData0 == \"0%\") {\n                setTimeout(function() {\n                    if (miniCardData0 != \"0%\") return;\n                    console.log(\"global.totalValueLockedUsd: \", global.totalValueLockedUsd);\n                    // showTvl1Day();\n                    if (global.tvl1DayPercent > 0) { \n                        setMiniCardData1(\"+\" + global.tvl1DayPercent + \"%\");\n                    } else {\n                        setMiniCardData1(global.tvl1DayPercent + \"%\");\n                    }\n                }, 3000);\n            }\n\n            // Total Value Locked 변화량(%) 값\n            if (String(miniCardData0).indexOf(\"+\") != -1) {\n                setChangeVal0(<span className=\"miniCardChange textGreen\">{miniCardData0}</span>);\n            } else if (String(miniCardData0).indexOf(\"-\") != -1) {\n                setChangeVal0(<span className=\"miniCardChange textRed\">{miniCardData0}</span>);\n            } else {\n                setChangeVal0(<span className=\"miniCardChange textGray\">{miniCardData0}</span>);\n            }\n\n            // ---------------------------- TXs ----------------------------\n            setMiniCardData1(global.transactions24h);\n\n            if (miniCardData1 == \"0\") {\n                setTimeout(function() {\n                    if (miniCardData1 != \"0\") return;\n\n                    setMiniCardData1(global.transactions24h);\n\n                    console.log(\"global.transactions24hPercent: \", global.transactions24hPercent);\n                    if (global.transactions24hPercent * 1 > 0) {\n                        setChangeVal1(<span className=\"miniCardChange textGreen\">+{global.transactions24hPercent}%</span>);\n                    } else if (global.transactions24hPercent * 1 < 0) {\n                        setChangeVal1(<span className=\"miniCardChange textRed\">{global.transactions24hPercent}%</span>);\n                    } else {\n                        setChangeVal1(<span className=\"miniCardChange textGray\">{global.transactions24hPercent}%</span>);\n                    }\n                }, 3000);\n            }\n\n            console.log(\"global.transactions24hPercent: \", global.transactions24hPercent);\n            if (global.transactions24hPercent * 1 > 0) {\n                setChangeVal1(<span className=\"miniCardChange textGreen\">+{global.transactions24hPercent}%</span>);\n            } else if (global.transactions24hPercent * 1 < 0) {\n                setChangeVal1(<span className=\"miniCardChange textRed\">{global.transactions24hPercent}%</span>);\n            } else {\n                setChangeVal1(<span className=\"miniCardChange textGray\">{global.transactions24hPercent}%</span>);\n            }\n\n            // ---------------------------- Trending ----------------------------\n            let trendingArr = global.trending;\n\n            // trending minicard 보여주기\n            // [\"priceDefiName\", \"priceStr\", price change, \"marketCapDefiName\", \"marketcapStr\", marketcap change, \"holdersDefiName\", \"holdersStr\", holders change, \"tvlDefiName\", \"tvlStr\", tvl change]\n            setMiniCard4thTag(\n            <MiniCardSlider \n            title0={\"Trending (Price)\"} defiName0={trendingArr[0]} dataNum0={trendingArr[1] * 1} data24hChange0={trendingArr[2]} \n            title1={\"Trending (Mkt Cap)\"} defiName1={trendingArr[3]} dataNum1={trendingArr[4] * 1} data24hChange1={trendingArr[5]} \n            title2={\"Trending (Holders)\"} defiName2={trendingArr[6]} dataNum2={trendingArr[7] * 1} data24hChange2={trendingArr[8]} \n            title3={\"Trending (TVL)\"} defiName3={trendingArr[9]} dataNum3={trendingArr[10] * 1} data24hChange3={trendingArr[11]}\n            />\n            );\n\n        } else {\n            // 서브 페이지\n            setMiniCardTitle0(\"Total Value Locked\");\n            setMiniCardTitle1(\"Token Price\");\n            setMiniCardTitle2(\"Total BNB Locked\");\n            setMiniCardTitle3(\"Last updated(UTC)\");\n\n            // TVL Change 24h\n            // minicard 0 으로 보이는 현상 임시\n            // if (miniCardData0 == \"0%\") {\n            //     setTimeout(function() {\n            //         if (miniCardData0 != \"0%\") return;\n            //         // showTvl1Day();\n            //         if (global.tvl1DayPercent > 0) { \n            //             setMiniCardData1(\"+\" + global.tvl1DayPercent + \"%\");\n            //         } else {\n            //             setMiniCardData1(global.tvl1DayPercent + \"%\");\n            //         }\n            //     }, 3000);\n            // }\n\n            // Total Value Locked 변화량(%) 값\n            console.log(\"changeVal0: \", changeVal0);\n            if (changeVal0 == \"\") {\n                setTimeout(function() {\n                    if (changeVal0 != \"\") return;\n                    if (global.tvl1DayPercent > 0) { \n                        setChangeVal0(<span className=\"miniCardChange textGreen\">+{global.tvl1DayPercent}%</span>);\n                    } else if (global.tvl1DayPercent < 0) {\n                        setChangeVal0(<span className=\"miniCardChange textRed\">{global.tvl1DayPercent}%</span>);\n                    } else {\n                        setChangeVal0(<span className=\"miniCardChange textGray\">{global.tvl1DayPercent}%</span>);\n                    }\n                }, 3000);\n            }\n\n            // if (String(global.tvl1DayPercent).indexOf(\"+\") != -1) {\n            //     setChangeVal0(<span className=\"miniCardChange textGreen\">{global.tvl1DayPercent}</span>);\n            // } else if (String(global.tvl1DayPercent).indexOf(\"-\") != -1) {\n            //     setChangeVal0(<span className=\"miniCardChange textRed\">{global.tvl1DayPercent}</span>);\n            // } else {\n            //     setChangeVal0(<span className=\"miniCardChange\">{global.tvl1DayPercent}</span>);\n            // }\n            \n            // ---------------------------- Token Price ----------------------------\n            // console.log(\"global.tokenPrice: \", global.tokenPrice);\n            // setMiniCardData1(\"$ \" + global.tokenPrice);\n\n            // 서브페이지일 때 Token Price 랑 변화량 가져오기 -> minicard2 적용\n            if (props.defiName != \"\") getDefiList(props.defiName);\n\n\n            // console.log(\"global.transactions24hPercent: \", global.transactions24hPercent);\n            // if (global.transactions24hPercent * 1 > 0) {\n            //     setChangeVal1(<span className=\"miniCardChange textGreen\">+{global.transactions24hPercent}%</span>);\n            // } else if (global.transactions24hPercent * 1 < 0) {\n            //     setChangeVal1(<span className=\"miniCardChange textRed\">{global.transactions24hPercent}%</span>);\n            // } else {\n            //     setChangeVal1(<span className=\"miniCardChange\">{global.transactions24hPercent}%</span>);\n            // }\n\n            // console.log(\"global.tokenPrice24hPercent: \", global.tokenPrice24hPercent);\n\n\n            // 서브페이지에서는 trending 이 아니라 일반 minicard 보여주기\n            setMiniCard4thTag(\n                <MiniCard title={miniCardTitle3} dataNum={miniCardData3} data24hChange={changeVal3} trendingDefiName={miniCardData3b} />\n            );\n        }\n\n        // console.log(\"[0426 test] props.defiName: \", props.defiName);\n        \n        return () => {\n\n        };\n        // global.totalValueLockedUsd 삭제  miniCardData1\n    }, [props.defiName, miniCardData1, miniCardData3])\n\n    return (\n        <div className=\"miniCards\">\n            <ul className=\"miniCardUl\">\n                <MiniCard title={miniCardTitle0} dataNum={global.totalValueLockedUsd} data24hChange={changeVal0} />\n                <MiniCard title={miniCardTitle1} dataNum={miniCardData1} data24hChange={changeVal1} />\n                <MiniCard title={miniCardTitle2} dataNum={totalBnbLockedNum} symbol=\"BNB\" data24hChange={changeVal2} />\n                {/* <MiniCard title={miniCardTitle3} dataNum={miniCardData3} data24hChange={changeVal3} trendingDefiName={miniCardData3b} /> */}\n                {/* <MiniCardSlider style={props.defiName == \"DeFi\" ? undefined : { display: \"none\" } } /> */}\n                {miniCard4thTag}\n            </ul>\n        </div>\n    );\n})\n\nexport default MiniCards;"]},"metadata":{},"sourceType":"module"}